---
title             : "Web-CDI: A system for online administration of the MacArthur-Bates Communicative Development Inventories"
shorttitle        : "Web-CDI"

author:
  - name: Benjamin deMayo
    affiliation: '1'
    role:
      - Conceptualization
      - Data Curation
      - Formal Analysis
      - Investigation
      - Methodology
      - Visualization
      - Writing - Original Draft Preparation
      - Writing - Review & Editing
    corresponding: yes
    email: bdemayo@princeton.edu
    address: Enter postal address here
  - name: Danielle Kellier
    affiliation: '2'
    role:
      - Conceptualization
      - Data Curation
      - Methodology
      - Software
      - Writing - Review & Editing
    email: Danielle.Kellier@pennmedicine.upenn.edu
  - name: Mika Braginsky
    affiliation: '3'
    role:
      - Conceptualization
      - Software
      - Writing - Review & Editing
    email: mikabr@mit.edu
  - name: Christina Bergmann
    affiliation: '4'
    role:
      - Software
      - Writing - Review & Editing
    email: christina.bergmann@mpi.nl
  - name: Cielke Hendriks
    affiliation: '4'
    role:
      - Software
      - Writing - Review & Editing
    email: cielke.hendriks@mpi.nl
  - name: Caroline Rowland
    affiliation: '4,6'
    role:
      - Conceptualization
      - Funding Acquisition
      - Project Administration
      - Supervision
    email: caroline.rowland@mpi.nl
  - name: Michael C. Frank
    affiliation: '5'
    role:
      - Conceptualization
      - Funding Acquisition
      - Methodology
      - Project Administration
      - Supervision
      - Writing - Original Draft Preparation
      - Writing - Review & Editing
    email: mcfrank@stanford.edu
  - name: Virginia A. Marchman
    affiliation: '5'
    role:
      - Conceptualization
      - Data Curation
      - Investigation
      - Methodology
      - Project Administration
      - Supervision
      - Writing - Original Draft Preparation
      - Writing - Review & Editing
    email: marchman@stanford.edu

affiliation:
  - id: '1'
    institution: Princeton University
  - id: '2'
    institution: University of Pennsylvania
  - id: '3'
    institution: Massachusetts Institute of Technology
  - id: '4'
    institution: Max Planck Institute for Psycholinguistics
  - id: '5'
    institution: Stanford University
  - id: '6'
    institution: Radboud University


abstract: |
 Understanding the mechanisms that drive variation in children’s language acquisition requires large, population-representative datasets of children’s word learning across development. Parent report measures such as the MacArthur-Bates Communicative Development Inventories (CDI) are commonly used to collect such data, but the traditional paper-based forms make the curation of large datasets logistically challenging. Many CDI datasets are thus gathered using convenience samples, often recruited from communities in proximity to major research institutions. Here, we introduce Web-CDI, a web-based tool which allows researchers to collect CDI data online. Web-CDI contains functionality to collect and manage longitudinal data, share links to test administrations, and download vocabulary scores. To date, over 3,500 valid Web-CDI administrations have been completed. General trends found in past norming studies of the CDI (e.g., Feldman et al., 2000) are present in data collected from Web-CDI: scores of children’s productive vocabulary grow with age, female children show a slightly faster rate of vocabulary growth, and participants with higher levels of educational attainment report slightly higher vocabulary production scores than those with lower levels of education attainment. We also report results from an effort to oversample non-white, lower-education participants via online recruitment (N = 243). These data showed similar age, gender and primary caregiver education trends to the full Web-CDI sample, but this effort resulted in a high exclusion rate. We conclude by discussing implications and challenges for the collection of large, population-representative datasets. 
  
keywords          : "vocabulary development, parent report"
wordcount         : "X"

bibliography      : ["wordbank_cdi.bib"]

floatsintext      : yes
figurelist        : no
tablelist         : no
footnotelist      : no
linenumbers       : no
mask              : no
nocite: |
  @Snyder2019
  @Center2019
  @nces2019
draft             : no

class             : "man"
output:
  papaja::apa6_pdf:
    latex_engine: xelatex
    includes:
      after_body: "appendix_options_table.tex"
      
---

```{r setup, include = FALSE}
library(papaja)
library(tidyverse)
library(fs)
library(xtable)
library(kableExtra)
library(cowplot)
library(scales)
library(estimatr)
library(broman)
library(wordbankr)

source(path(here::here(), "file_paths.R"))
source(functions_script)

#Read in (somewhat) preprocessed forms of the data
load(wg_unfiltered_path)
load(ws_unfiltered_path)
load(wg_filtered_path)
load(ws_filtered_path)
load(wg_unfiltered_ses_path)
load(ws_unfiltered_ses_path)
load(wg_filtered_ses_path)
load(ws_filtered_ses_path)
```


```{r analysis-preferences}
# Seed for random number generation
set.seed(42)
knitr::opts_chunk$set(cache.extra = knitr::rand_seed, warning = FALSE, message = FALSE)
```

Children vary tremendously in their vocabulary development [@Frank2021;@fenson1994]. Characterizing this variability is central to understanding the mechanisms that drive early language acquisition, yet capturing this variation in broad, diverse samples of children has been a significant challenge for cognitive scientists for decades. The MacArthur-Bates Communicative Development Inventories (MB-CDI, or CDI for short) are a set of commonly-used parent report instruments for assessing vocabulary development in early childhood [@fenson2007] that were introduced in part to create a cost-effective method for measuring variability across individuals. 

In this paper, we introduce a web-based tool, Web-CDI, which was developed to address the need for collecting CDI data in an online format. Web-CDI allows researchers to increase the convenience of CDI administration, further decrease costs associated with data collection and entry (particularly with item-level data), and access participant samples that have traditionally been difficult to reach in language development research. Our purpose in this paper is twofold: first, we describe Web-CDI as a platform which streamlines the process of collecting CDI data and collates the data in a way that facilitates the creation of large-scale, multisite collaborative datasets. Second, we profile usage of Web-CDI thus far, with a particular focus on broadening the reach of traditional paper-based methods of collecting vocabulary development data.

# The Importance of Parent Report Data

Gaining empirical traction on variation in children’s early language requires reliable and valid methods for measuring language abilities, especially in early childhood (8 to 30 months). Parent report is a mainstay in this domain. Parents' reports are based on their daily experiences with the child, which are much more extensive than a researcher or clinician can generally obtain. Moreover, they are less likely to be influenced by factors that may mask a child’s true ability in the laboratory or clinic (e.g., shyness). One widely used set of parent-report instruments is the MacArthur-Bates Communicative Development Inventories, originally designed for children learning American English [@fenson2007]. The American English CDIs come in several versions, two of which are Words & Gestures (WG) for children 8 to 18 months, focusing on word comprehension and production, as well as gesture use, and Words & Sentences (WS) for children 16 to 30 months, focusing on word production and sentence structure. Both the WG and WS measures come in short forms with vocabulary checklists of approximately 90-100 words [@fenson2000b], and long forms, which contain vocabulary checklists of several hundred items each. (An additional shorter form of the Web-CDI for children 30-37 months, CDI-III, also exists.) Together, the CDI instruments allow for a comprehensive picture of milestones that characterize language development in early childhood. A substantial body of evidence suggests that these instruments are both reliable and valid [e.g., @fenson2007; @fenson1994] leading to their widespread use in thousands of research studies over the last few decades. Initial large-scale work to establish the normative datasets for the American English CDI not only provided key benchmarks for determining children’s progress, but also documented the extensive individual differences that characterize early language learning during this critical period of development [@fenson1994; @bates1994]. Understanding the origins and consequences of this variability remains an important empirical and theoretical endeavor [e.g., @Bates2001; @bornstein2012; see also, @Frank2021]. 

The popularity of CDI instruments has remained strong over the years, leading to extensions of the methodology to alternative formats and cross-language adaptations [@fenson2000b]. Many teams around the world have adapted the CDI format to the particular languages and communities [@dale2015]. Importantly, these adaptations are not simply translations of the original form but rather incorporate the specific features of different languages and cultures, since linguistic variability exists even among cultures that share a native language. As an example of this phenomenon, the word "Cheerios" is more common in the United States than it is in the United Kingdom; as a result, it might be expected that caregivers would report children's knowledge of this word in the U.S. and not the U.K., even though English is the most common language in both countries. To date there are more than 100 adaptations for languages around the globe. Moreover, several research groups have developed shorter versions of the CDI forms by randomly sampling items from the full CDI and comparing participants' responses to established norms [@Mayor2019] or by developing computer adaptive tests (CATs) that use item response theory or Bayesian approaches to guide the selection of a smaller subset of items to which participants respond [@makransky2016; @Chai2020; @Kachergis].

While the reliability and validity of the original CDI instruments is well-established for the American English versions of the forms and several others, most existing norming samples are skewed toward families with more years of formal education and away from non-white groups [@fenson2007]. For example, representation in the American English norming samples is generally restricted to families living on the U.S. east and west coasts. Further, although paper survey administration is a time-tested method, increasingly researchers and participants would prefer to use an electronic method to administer and fill CDI forms, obviating the need to track (and sometimes mail) paper forms, and the need to key in hundreds of item-wise responses for each child.  

Here, we report on our recent efforts to create and distribute a web-based version of the CDIs in order to address some of the limitations of the standard paper versions. Online administration of the CDI is not a novel innovation – a variety of research groups have created purpose-build platforms for administering the CDI in particular languages. For example, @kristoffersen2013 collected a large normative sample of Norwegian CDIs using a custom online platform. Similarly, the Slovak adaptation of the CDI uses an online administration format [@Kapalkova2007]. And many groups have used general purpose survey software such as Qualtrics and Survey Monkey to administer CDIs and variants online [e.g., @Caselli2020]. The innovation of Web-CDI is to provide a comprehensive researcher management interface for the administration of a wide range of CDI forms, allowing researchers to manage longitudinal administrations, download scores, and share links with parents easily, all while satisfying strong guarantees regarding privacy and anonymity. Moreover, a key benefit of a unified data collection and storage system such as Web-CDI is that data from disparate sources are combined into a single repository. This substantially reduces the overhead efforts associated with bringing together data collected by researchers across the world and allows for the analysis of large comparative datasets with the power to detect general trends in vocabulary development that may emerge across languages. Finally, due to an agreement between the CDI Advisory Board and Brookes Publishing, the publisher of the print versions of the CDI suite, Web-CDI is free of charge for those researchers who agree to contribute their data for the renorming of the long form instruments.

# Introducing Web-CDI 

Web-CDI is a web-based platform for CDI administration and management. Web-CDI allows researchers to communicate with families by sharing URLs (web links that contain individual users' own administration of the Web-CDI) via email or social media, facilitating access to families in areas distant from an academic institution and eliminating costly mailings and laboratory visits. Web-CDI also standardizes electronic administration and scoring of CDI forms across labs and institutions, making possible the aggregation of CDI data for later reuse and comparison across administrations by different labs. Indeed, researchers who use Web-CDI grant the CDI Advisory Board permission to access and analyze the resulting data on an opt-out basis, providing a path towards continual improvement of CDI instruments. Since 2018, more than 3,500 CDIs have been collected by 15 research groups throughout the U.S. who are using Web-CDI, demonstrating the potential for large-scale data collection and aggregation.  

Below, we outline how Web-CDI is used. We begin by detailing the consent obtention process and participant experience. Second, we describe the interface that researchers use to collect data using Web-CDI, specifying a number of common use cases for the platform.

## Participant interface

Participants can complete the Web-CDI on a variety of devices, including personal computers and tablets. Web-CDI can be also administered on a smartphone, although the experience is not as ideal for the user due to the length of the survey and the small screen. As Web-CDI moves in the future to incorporate more short forms and computer adaptive tests (CATs) formats [e.g., @Chai2020; @makransky2016; @Mayor2019], smartphone-responsive design will become a priority. 

When a participant clicks a URL shared by a researcher, they are directed to a website presenting their own personal administration of the Web-CDI. In some cases, they may be asked to read and accept a waiver of consent documentation, depending on whether the researcher has chosen to use that feature (see also Researcher Interface below). 

```{r pictorial, fig.cap= "Pictorial instructions indicating how to mark whether a child *understands and says* a word, from the Web-CDI Words and Sentences instrument."}

# img <- png::readPNG(path(fig_directory, "pictorial_instructions.png"))
# 
# grid::grid.raster(img)

knitr::include_graphics(
  path = path(fig_directory, "WS_instructions.pdf")
)
```

```{r firstitems, fig.cap= "(A) Sample items from the American English Words and Gestures form. (B) Sample items from the American English Words and Sentences form."}

img <- png::readPNG(path(fig_directory, "cdi_instructions.png"))

grid::grid.raster(img)

```


*Instructions.* After completing the first demographics page, participants are provided with detailed instructions that are appropriate for either the Words & Gestures or Words & Sentences version (see Figure \ref{fig:pictorial} for an example of the instructions for parents to determine whether their child “un-derstands and says” a word, which is pertinent to both the WG and WS forms. In addition, there are more detailed instructions for completing the vocabulary checklist. Unlike the traditional paper versions, instructions on how to properly choose responses are provided both in written and pictorial form. The pictorial instructions (Figure \ref{fig:pictorial}) aim to further increase caregivers’ understanding of how to complete the checklist. For example, these instructions clarify that the child’s understanding of a word requires them to have some understanding of the object that the word refers to or some aspect of the word’s meaning. In addition, caregivers are reassured that "child-like" forms (e.g., "raff" for "giraffe") or family- or dialect-specific forms (e.g., "nana" for "grandma") are acceptable evidence.  Lastly, caregivers are reminded that the child should be able to produce the words "on their own" and that imitations are not acceptable. These general "rules of thumb" for completing the form should be familiar to researchers who are distributing the forms to caregivers so they can field any questions that may arise. While this is not possible for certain use-cases (e.g., social media recruitment), these instructions should ideally also be reviewed either in writing (e.g., via email) or verbally (e.g., over the phone), so that these pictured instructions serve merely as a reminder to caregivers when completing the form. Pictured instructions are available for download on the MB-CDI website at http://mb-cdi.stanford.edu/about.html. 

*Completing the instrument.* The majority of the participant’s time is spent completing the main sections of the instruments. As shown in Figure \ref{fig:firstitems}, on the American English Words and Gestures form, the vocabulary checklist portion (396 items) asks caregivers to indicate whether their child can "understand" or "understand and say" each word; they can also indicate that their child neither understands nor says the word by leaving the boxes unchecked. Additionally, gesture communication and other early milestones are assessed. In the American English Words and Sentences form, the vocabulary checklist (680 items) only asks caregivers to indicate which words their child "says". Additional items assess children’s production by requesting three of their longest sentences, as well as morphological and syntactic development more broadly. All of these items are broken up across multiple screens for easier navigation through the form. 

At the completion of the form, a graph is displayed illustrating how the responses of "understands" or "understands and says" are distributed across the semantic categories on the form. Participants can select to download their own responses. In addition, data from the norming studies are used to estimate the ‘hardest’ (i.e., most advanced based on previous work on age of acquisition of individual words, @Frank2021) word that the child currently understands or produces. This feedback to caregivers is intended to provide caregivers with a fun "thank you" and intentionally avoids any information which frames their child’s progress relative to other children or any normative standard, so as to not give the impression that the Web-CDI is a clinical assessment of the child's development. To further underscore this point, the closing page reminds caregivers that their participation does not constitute a clinical evaluation and that they should contact their pediatrician or primary care physician if they have any concerns about their child’s development. 

## Researcher interface

One of the main goals of Web-CDI is to provide a unified CDI platform to the child language research community. To that end, researchers request an account by contacting members of the CDI Advisory Board at `webcdi-contact@stanford.edu`. Once the request is granted, they can design and distribute studies. One rationale for this personalized registration process is that we ask that researchers allow fully anonymized data from their participants to be shared with the CDI Advisory Board, so that it can be added to Wordbank [http://wordbank.stanford.edu/; @frank2017] and shared with the broader research community. However, if particular participants indicate in the consent process that they do not want their data to be shared more broadly, then researchers can indicate this in the Web-CDI dashboard to prevent data from specific administrations being contributed to any analyses conducted by the CDI Advisory Board and/or Wordbank. Data currently in Web-CDI, which have not yet been added to the Wordbank repository, will be vetted before being added to ensure that all data being added to Wordbank from Web-CDI are drawn from families with typically-developing children who meet similar inclusion criteria to the ones we describe below in the *Dataset 1* section. Additionally, date of form completion will be preserved when adding Web-CDI data into Wordbank, so that researchers can choose to filter out data that may be affected by the particular point in time at which they were collected [for example, the COVID-19 pandemic, @Kartushina2021].

A study in the context of the Web-CDI system is a set of individual administrations created by a researcher that share certain specifications. Table A1 in the Appendix gives an overview of the customizable features that are available at the study level in Web-CDI. These features are set when creating a study using the "Create Study" tool, and most of the features can be updated continuously during data collection using the "Update Study" tool. While some of these features are only relevant to specific use cases (e.g., longitudinal research and social media data collection, described below), others are relevant to all researchers using Web-CDI.

There are currently several CDI forms available for distribution on Web-CDI, including the English WG and WS forms and forms in other languages (see Cross-linguistic research, below). When creating a study, researchers choose one of the forms that they would like to distribute to participants; only one can be used in a given study. Researchers who wish to send multiple forms to participants simultaneously (e.g., those conducting multilingual research) should create multiple studies, each with a single instrument associated with it.

Researchers can download participant data in two formats. Both formatting options output a comma-separated values file with one row per participant; the full data option includes participant-by-item responses, and allows researchers to explore item-level trends, while the summary data option omits item-level data and only provides summary scores and normative information, including total number of words understood/produced and percentile scores by age in months and gender. Percentile scores based are calculated to a single percentile resolution using norms from @fenson2007.

Below, we outline several possible use cases of Web-CDI, as well the features which may facilitate them from a researcher’s perspective.

*Individual recruitment.* A first possible workflow using Web-CDI is to send unique study URLs to individual participants. Researchers do so by entering numerical participant IDs or by auto-generating a specified quantity of participant IDs, each with its own unique study URL, using the "Add Participants" tool in the researcher dashboard. New participants can be added on a continual basis so that researchers can adjust the sample size of their study during data collection. Unique links generated for individual participants expire, by default, 14 days after creation, though the number of days before link expiration is adjustable, which may be an important consideration for some researchers depending on their participant populations and specific project timelines. Workflows that involve generating unique links are most suitable for studies which pair the CDI with other measures, or when researchers contact specific participants from an existing database.

*Longitudinal studies.* Web-CDI also facilitates longitudinal study designs in which each participant completes multiple administrations. Researchers wishing to design longitudinal studies can do so by entering a list of meaningful participant IDs using the "Add Participants" tool in the researcher dashboard. If a specific participant ID is added multiple times, Web-CDI will automatically create multiple unique study URLs in the study dashboard that have that ID. In addition, when creating studies, researchers can select whether they would like the demographics information, vocabulary checklist, or no sections at all to be pre-filled when a participant fills out a repeat administration of the instrument. Unless researchers are interested in cumulative vocabulary counts, it is strongly recommended that they do not use the option to pre-fill the vocabulary checklist portion of the instrument in longitudinal administrations as caregivers should complete the instrument at each time point independently. In the case that researchers do choose this option, this is recorded in the Web-CDI database so that, when the data are added to Wordbank, researchers can choose to filter out any pre-filled questionnaires.

*Social media and survey vendors.* Web-CDI contains several features designed to facilitate data collection from social media recruitment or through third-party crowd-sourcing applications and vendors (e.g., Amazon Mechanical Turk, Prolific). First, rather than creating unique survey links for each participant, researchers can also use a single, anonymous link. When a participant clicks the anonymous link, a new administration with a unique subject ID is created in the study dashboard. Additionally, Web-CDI studies have several customizable features that are geared towards anonymous online data collection. For example, researchers can adjust the minimum amount of time a participant must take to fill out the survey before they are able to submit; with a longer minimum time to completion, researchers can encourage a more thorough completion of the survey. This feature is typically most relevant in research designs in which participants are not vetted by the researcher or those in which there is no direct communication between participants and researchers, as might be the case when recruiting respondents on social media. Responses collected via personal communication with participants show low rates of too-fast responding, mostly removing the need for the minimum time feature. Even in the case of anonymous data collection, however, it is recommended that researchers not raise the minimum completion time higher than 6 minutes, since some caregivers of very young children may theoretically be able to proceed through the measure quickly if their child is not yet verbal. Aside from the minimum time feature, researchers can ask participants to verify that their information is accurate by checking a box at the end of the survey, and can opt to include certain demographic questions at both the beginning and end of the survey, using response consistency on these redundant items as a check of data quality.

*Paid participation.* If researchers choose to compensate participants directly through the Web-CDI interface, Web-CDI has built-in functionality to distribute redeemable gift codes when a participant reaches the end of the survey. Web-CDI contains several features to facilitate integration with third-party crowdsourcing applications and survey vendors should they choose to handle participant compensation through another platform. For example, when creating studies, researchers can enter a URL to which participants are redirected when they reach the end of the survey. In addition, researchers using the behavioral research platform Prolific can configure their study to collect participants’ unique Prolific IDs and pre-fill them in the survey.

*Cross-linguistic research.* Web-CDI forms are currently available in English (U.S. American and Canadian), Spanish, French (Quebecois), Hebrew, Dutch and Korean. We are looking to add more language forms to the tool, as the paper version of the forms has been adapted into more than 100 different languages and dialects, and further ongoing adaptations have been approved by the MB-CDI board (http://mb-cdi.stanford.edu/adaptations).

## System Design

Web-CDI is constructed using open-source software. All of the vocabulary data collected in Web-CDI are stored in a standard MySQL relational database, managed using Django and Python and hosted either by Amazon Web Services or by a European Union (GDPR) compliant server (see below). Individual researchers can download data from their studies through the researcher interface, and Web-CDI administrators have access to the entire aggregate set of data from all studies run with Web-CDI. Website code is available in a GitHub repository at https://github.com/langcog/web-cdi, where interested users can browse, make contributions, and request technical fixes.

## Data Privacy and GDPR Compliance

Web-CDI is designed to be compliant with stringent human subjects privacy protections across the world. First, for U.S. users, we have designed Web-CDI based on the United States Department of Health and Human Services "Safe Harbor" Standard for collecting protected health information as defined by the Health Insurance Portability and Accountability Act (HIPAA). In particular, participant names are never collected, birth dates are used to calculate age in months (with no decimal information) but never stored, and geographic zip codes are trimmed to the first 3 digits. Because of the architecture of the site, even though participants enter zip codes and dates of birth, these are never transmitted in full to the Web-CDI server.  Since no identifying information is being collected by the Web-CDI system, this feature ensures that Web-CDI can be used by United States labs without a separate Institutional Review Board agreement between users' labs and Web-CDI (though of course researchers using the site will need Institutional Review Board approval of their own research projects).^[Issues of de-identification and re-identifiability are complex and ever changing. In particular, compliance with DHHS "safe harbor" standards does not in fact fully guarantee the impossibility of statistical re-identification in some cases and if potential users have questions, we encourage them to consult with an Institutional Review Board.]

In the European Union (EU), research data collection and storage is governed by the Generalized Data Protection Regulation (GDPR) and its local instantiation in the legal system of the member states. Some of the questions on the demographic form contain information that may be considered sensitive (e.g., information about children’s developmental disorders), and in some cases, the possibility of linking this sensitive information to participant IDs exists, particularly when researchers draw on local databases that contain full names and addresses for recruitment and contacting. As a result, issues regarding GDPR compliance arise when transferring data outside the EU, namely to Amazon Web Services servers housed in the United States. Following GDPR regulations, these issues would make a data sharing agreement between data collectors and Amazon Web Services necessary. In addition, all administrators who can access the collected data would have to enter such an agreement, which needs updating whenever personnel changes occur. To overcome these hurdles, and in consultation with data protection officers, we opted to leverage the local technical expertise and infrastructure to set up a sister site housed on GDPR-compliant servers, currently available at http://webcdi.mpi.nl. This site is updated synchronously with the main Web-CDI website to ensure a consistent user experience and access to the latest features and improvements. This site has been used in 135 successful administrations so far and is the main data collection tool for an ongoing norming study in the Netherlands. We are further actively advertising the option to use the European site to other labs who are following GDPR guidelines and are planning adaptations to multiple European languages, where copyright allows.

# Current data collection

We now turn to an overview of the data collected thus far using Web-CDI. First, we examine the full sample of all of the Web-CDI administrations collected as of autumn 2020 (Dataset 1); we then focus in on a specific subset of Dataset 1 which is comprised of data from recent efforts to oversample non-white, less highly-educated U.S. participants (Dataset 2). Across both datasets, we show that general trends from prior research on vocabulary development are replicated using Web-CDI. Based on this work to date, we then discuss the potential for using Web-CDI to collect vocabulary development data from diverse communities online.

## Dataset 1: Full Current Web-CDI Usage 

```{r total_n}
#number of administrations before exclusions
unfiltered_n_wg <- nrow(all_wg_raw)
unfiltered_n_ws <- nrow(all_ws_raw)
unfiltered_n_total <- unfiltered_n_ws + unfiltered_n_wg

#number of administrations after exclusions
filtered_n_wg <- nrow(wg_filtered)
filtered_n_ws <- nrow(ws_filtered)
filtered_n_total <- filtered_n_wg + filtered_n_ws

#number of exclusions_
exclusions_n_wg <- unfiltered_n_wg - filtered_n_wg
exclusions_n_ws <- unfiltered_n_ws - filtered_n_ws
exclusions_n_total <- unfiltered_n_total - filtered_n_total

```

```{r}

load(full_sample_exclusions)

exclusion_tbl_full %>% 
  kbl(
    booktabs = TRUE, 
    linesep = "", 
    caption = "Exclusions from Dataset 1: full Web-CDI sample"
  ) %>% 
  kable_styling(
    position = "center",
    latex_options = "scale_down"
  ) %>% 
  column_spec(1, width = "2.4in") %>% 
  column_spec(2:5, width = "1in") %>% 
  row_spec(0, bold = TRUE)

```

In this section, we provide some preliminary analyses of Dataset 1, which consists of the full sample of American English Web-CDI administrations collected before autumn 2020. At time of writing, researchers from 15 universities in the United States have collected over 5,000 administrations of the American English CDI using Web-CDI since it was launched in late 2017, with `r formatC(unfiltered_n_wg, big.mark = ",", big.interval = 3)` administrations of the WG form before exclusions and `r formatC(unfiltered_n_ws, big.mark = ",", big.interval = 3)` administrations of the WS form before exclusions. We excluded participants from the subsequent analyses based on the following set of stringent criteria designed for the creation of future normative datasets. We excluded participants if it was not their first administration of the survey; if they were born prematurely or had a birthweight under 5.5 lbs (< 2.5 kg); reported more than 16 hours of exposure to a language other than English per week on average (amounting to approximately > 10% of time during a week that a child hears another language than English); had serious vision impairments, hearing deficits or other developmental disorders or medical issues^[Exclusions on the basis of child health were decided on a case-by-case basis by author V.M. in consultation with Philip Dale, Donna Thal, and Larry Fenson.]; were outside of the correct age range for the survey; or spent less time on the survey than a pre-specified timing cutoff. Timing cutoffs were determined by selecting two studies within Dataset 1 that, upon a visual inspection, appeared to contain high-quality responses (i.e., did not contain a disproportionate number of extremely quick responders), and using these to estimate the 5th percentile of completion time by the child's age in months with a quantile regression (following a similar quantile regression method as @Bleses2016). Thus, for each age on the WG and WS measures, we obtained an estimate of the 5th percentile of completion time and used this estimate as the shortest amount of time participants could spend on the Web-CDI without being excluded from our analyses here.

The exclusion criteria we used were designed to be generally comparable with those used in @fenson2007, who adopted stringent criteria to establish vocabulary norms that reflect typically developing children’s vocabulary trajectories. A complete breakdown of the number of participants excluded on each criterion is in Table 1. Of the completed WG forms, `r formatC(exclusions_n_wg, big.mark = ",", big.interval = 3)` were excluded, leading to a final WG sample size of `r formatC(filtered_n_wg, big.mark = ",", big.interval = 3)` administrations, and `r formatC(exclusions_n_ws, big.mark = ",", big.interval = 3)` WS administrations were excluded, leading to a final WS sample size of `r formatC(filtered_n_ws, big.mark = ",", big.interval = 3)`. 

```{r}

#demographic information of the entire sample
demographics_df <- 
  bind_rows(
    wg_filtered %>% 
      mutate(hispanic = !is.na(child_hispanic_latino) & child_hispanic_latino == "TRUE") %>%
      select(
        study_name,
        subject_id,
        age,
        ethnicity, 
        maternal_ed, 
        produced,
        sex,
        hispanic
      ),
    ws_filtered %>% 
      mutate(hispanic = !is.na(child_hispanic_latino) & child_hispanic_latino == "TRUE") %>% 
      select(
        study_name,
        subject_id,
        age,
        ethnicity,
        maternal_ed,
        produced,
        sex,
        hispanic
      )
  )

#tibble for ethnicity plot
ethnicity_plot_df <- 
  demographics_df %>% 
  getEthnicitySummary() %>% 
  mutate(`Dataset 1: Full Web-CDI sample` = prop.table(n)) %>% 
  filter(ethnicity != "No ethnicity reported") %>% 
  left_join(old_ethnicity_numbers, by = "ethnicity") %>% 
  left_join(census_ethnicity_numbers, by = "ethnicity") %>% 
  select(-n) %>% 
  pivot_longer(
    cols = c(`Dataset 1: Full Web-CDI sample`, `2007 manual`, `U.S. Census Estimates`),
    names_to = "study",
    values_to = "proportion"
  ) %>% 
  mutate(study = fct_relevel(
    study,
    "Dataset 1: Full Web-CDI sample", 
    "2007 manual", 
    "U.S. Census Estimates"
  ))

#ethnicity plot
ethnicity_plot <-
  ethnicity_plot_df %>% 
  ggplot(aes(ethnicity, proportion, fill = study)) +
  geom_col(position = "dodge") +
  labs(
    y = "Proportion of\nrespondents"
  ) +
  ggthemes::theme_few() +
  theme(
    legend.title = element_blank(), 
    axis.text.x = element_text(
       angle = 25, 
       vjust = 0.9, 
       hjust = 1
     )
  ) +
  labs(x = "Race") +
  scale_fill_viridis_d() +
  coord_cartesian(ylim = c(0, .81))

#tibble for eth plot with white hispanic breakdown

whites_vs_census <- 
  demographics_df %>% 
  mutate(ethnicity = as.character(ethnicity)) %>% 
  mutate(ethnicity = factor(case_when(
    ethnicity == "White" & !hispanic ~ "White, non-Hispanic",
    ethnicity == "White" & hispanic ~ "White, Hispanic",
    TRUE ~ ethnicity
  ))) %>% 
  count(ethnicity) %>% 
  filter(ethnicity != "No ethnicity reported") %>% 
  mutate(`Dataset 1: Full Web-CDI sample` = prop.table(n)) %>% 
  left_join(census_ethnicity_hispanic_white, by = "ethnicity") %>% 
  select(-n) %>% 
  pivot_longer(
    cols = c(
      `Dataset 1: Full Web-CDI sample`, 
      `U.S. Census Estimates`
    ),
    names_to = "study",
    values_to = "proportion"
  ) %>% 
  mutate(study = fct_relevel(
    study, 
    levels = c("Dataset 1: Full Web-CDI sample", "U.S. Census Estimates")
  ))

white_hispanic_plot <-
  whites_vs_census %>% 
  ggplot(aes(ethnicity, proportion, fill = study)) +
  geom_col(position = "dodge") +
  labs(
    y = "Proportion of\nrespondents"
  ) +
  ggthemes::theme_few() +
  theme(
    legend.title = element_blank(), 
    axis.text.x = element_text(
       angle = 25, 
       vjust = 0.9, 
       hjust = 1
     )
  ) +
  labs(x = "Race") +
  scale_fill_viridis_d() +
  coord_cartesian(ylim = c(0, .81))


maternal_ed_plot_df <- 
  demographics_df %>% 
  count(maternal_ed) %>% 
  mutate(`Dataset 1: Full Web-CDI sample` = prop.table(n)) %>% 
  left_join(old_momed_numbers, by = "maternal_ed") %>% 
  left_join(census_momed_numbers, by = "maternal_ed") %>% 
  select(-n) %>% 
  pivot_longer(
    cols = c(
      `Dataset 1: Full Web-CDI sample`, 
      `2007 manual`, 
      `U.S. Census Estimates`
    ),
    names_to = "study",
    values_to = "proportion"
  ) %>% 
  mutate(
    maternal_ed = fct_relevel(
      maternal_ed,
      "Some high school or less",
      "High school diploma",
      "Some college education",
      "College diploma or more"
    )
  ) %>% 
  mutate(study = fct_relevel(
    study,
    "Dataset 1: Full Web-CDI sample", 
    "2007 manual", 
    "U.S. Census Estimates"
  ))

x_axis_labs <- c(
  "Some high school\n or less",
  "High school\ndiploma",
  "Some college\neducation",
  "College diploma\nor more"
)

maternal_ed_plot <- 
  maternal_ed_plot_df %>% 
  filter(maternal_ed != "Not reported") %>% 
  ggplot(aes(maternal_ed, proportion, fill = study)) +
  geom_col(position = "dodge") +
  labs(x = "Primary caregiver education") +
  ggthemes::theme_few() +
  theme(
    legend.title = element_blank(),
    axis.text.x = element_text(angle = 25, vjust = 0.9, hjust = 1)
  ) + 
  scale_x_discrete(labels = x_axis_labs) +
  scale_fill_viridis_d() +
  coord_cartesian(ylim = c(0, .81))

plot1 <- 
  ethnicity_plot + 
    theme(
      legend.position = "none", 
      plot.margin = (margin(r = 2, l = 0, b = 5)),
      axis.text = element_text(size = 15),
      axis.title = element_text(size = 15),
    )

plot2 <- 
  maternal_ed_plot + 
    ylab(NULL) + 
    theme(
      legend.position = "none", 
      plot.margin = (margin(r = 2, l = 2, b = 5)),
      axis.text = element_text(size = 15),
      axis.title = element_text(size = 15)
    )

plot3 <- 
  white_hispanic_plot + 
    theme(
      legend.position = "none", 
      plot.margin = (margin(r = 2, l = 2, t = 3)),
      axis.text = element_text(size = 15),
      axis.title = element_text(
        size = 15
      ),
      axis.title.x = element_blank()
    )


#align the plots vertically
all_demo_plots <- 
  align_plots(plot1, plot2, plot3, align = "V", axis = 'l')

toprow <- 
  cowplot::plot_grid(
  all_demo_plots[[1]],
  all_demo_plots[[2]],
  align = "hv",
  labels = c("A", "B")
)


legend <- 
  get_legend(
    ethnicity_plot + 
      # guides(color = guide_legend(nrow = 1)) + 
      # theme(legend.position = "bottom")
      theme(
        legend.box.margin = margin(0, 0, 0, 15),
        legend.text = element_text(size = 18)
      )
  )

bottomrow <- 
  plot_grid(
    all_demo_plots[[3]],
    legend,
    labels = c("C"),
    nrow = 1
  )


demo_barplot <- 
  plot_grid(toprow, bottomrow, ncol = 1)


ggsave(
  "demo_barplot.png", 
  plot = demo_barplot,
  path = fig_directory,
  width = 11,
  height = 8
)

demo_barplot_caption <- 
  str_c(
    "Top row: Proportion of respondents plotted by child race (A) and educational level of primary caregiver (B) from full Web-CDI sample (Dataset 1) to date (N = ", 
    formatC(filtered_n_total, big.mark = ",", big.interval = 3),
    "), compared with norming sample demographics from Fenson (2007) and U.S. Census data (American Community Survey, 2019; National Center for Education Statistics, 2019).\nBottom row (C): Participant breakdown by race in Dataset 1 as compared with U.S. Census data, splitting white participants into those who are Hispanic and those are not."
  )


```


```{r demobarfig, fig.cap=demo_barplot_caption}

img <- png::readPNG(path(fig_directory, "demo_barplot.png"))

grid::grid.raster(img)

```

```{r message=FALSE}
#Hispanic proportions

wg_hispanic <- 
  wg_filtered %>% 
  mutate(
    hispanic = !is.na(child_hispanic_latino) & child_hispanic_latino == TRUE
  ) %>% 
  count(hispanic) %>% 
  mutate(prop = n / sum(n))

ws_hispanic <-  
  ws_filtered %>% 
  mutate(
    hispanic = !is.na(child_hispanic_latino) & child_hispanic_latino == TRUE
  ) %>%
  count(hispanic)%>% 
  mutate(prop = n / sum(n))

wg_hispanic_percent <- 
  wg_hispanic %>% 
  slice(2) %>% 
  pull(prop) %>% 
  round(digits = 3) %>% 
  percent(accuracy = .1)

ws_hispanic_percent <- 
  ws_hispanic %>% 
  slice(2) %>% 
  pull(prop) %>% 
  round(digits = 3) %>% 
  percent(accuracy = .1)

##hispanic tables before exclusions

wg_all_hispanic <- 
  all_wg_raw %>% 
  mutate(
    hispanic = !is.na(child_hispanic_latino) & child_hispanic_latino == TRUE
  ) %>% 
  count(hispanic) %>% 
  mutate(prop = n / sum(n))

ws_all_hispanic <- 
  all_ws_raw %>% 
  mutate(
    hispanic = !is.na(child_hispanic_latino) & child_hispanic_latino == TRUE
  ) %>% 
  count(hispanic) %>% 
  mutate(prop = n / sum(n))

wg_all_hispanic_percent <- 
  wg_all_hispanic %>% 
  slice(2) %>% 
  pull(prop) %>% 
  round(digits = 3) %>% 
  percent(accuracy = .1)

ws_all_hispanic_percent <- 
  ws_all_hispanic %>% 
  slice(2) %>% 
  pull(prop) %>% 
  round(digits = 3) %>% 
  percent(accuracy = .1)

##Black proportions

black_dataset_1 <- 
  ethnicity_plot_df %>% 
  slice(4) %>% 
  pull(proportion) %>% 
  percent(accuracy = 0.1)

black_norms <- 
  ethnicity_plot_df %>% 
  slice(5) %>% 
  pull(proportion) %>% 
  percent(accuracy = 0.1)

black_census <- 
  ethnicity_plot_df %>% 
  slice(6) %>% 
  pull(proportion) %>% 
  percent(accuracy = 0.1)

college_above_census <- 
  maternal_ed_plot_df %>% 
  slice(3) %>% 
  pull(proportion) %>% 
  percent(accuracy = 0.1)

college_above_webcdi <- 
  maternal_ed_plot_df %>% 
  slice(1) %>% 
  pull(proportion) %>% 
  percent(accuracy = 0.1)

college_above_norms <- 
  maternal_ed_plot_df %>% 
  slice(2) %>% 
  pull(proportion) %>% 
  percent(accuracy = 0.1)


```

```{r}

demographics_df_explore <- 
  demographics_df %>% 
  mutate(
    sampling_method = case_when(
      str_detect(study_name, "Facebook|norming|Wordful") ~ "facebook",
      str_detect(study_name, "MTurk") ~ "mturk",
      str_detect(study_name, "prolific") ~ "prolific",
      TRUE ~ "other"
    ),
    white_college_ed = 
      (ethnicity == "White" & 
         maternal_ed == "College diploma or more" &
         hispanic == FALSE)
  ) %>% 
  group_by(sampling_method) %>% 
  summarize(white_college_educated = mean(white_college_ed, na.rm = TRUE)) %>% 
  mutate(
    other_demographics = 1 - white_college_educated,
    sampling_method = fct_recode(
      sampling_method,
      "Facebook" = "facebook",
      "Prolific" = "prolific",
      "Amazon\nMechanical Turk" = "mturk",
      "Other method" = "other"
    ) %>% fct_reorder(white_college_educated)
  ) %>% 
  pivot_longer(
    cols = c("white_college_educated", "other_demographics"),
    names_to = "demographic_category",
    values_to = "proportion"
  ) %>% 
  mutate(demographic_category = fct_recode(
    demographic_category,
    "White non-Hispanic and college educated" = "white_college_educated",
    "All other demographics" = "other_demographics"
  ) %>% fct_relevel("White non-Hispanic and college educated")) 

exploration_white <- 
  demographics_df_explore %>% 
  ggplot(aes(sampling_method, proportion, fill = demographic_category)) +
  geom_col()  +
  ggthemes::theme_few() +
  theme(
    axis.title.x = element_blank(),
    legend.title = element_blank(),
    legend.position = "bottom"
  ) +
  labs(y = "Proportion of respondents")

ggsave(
  "exploration_white.png",
  plot = exploration_white,
  path = fig_directory,
  width = 6,
  height = 6
)
  
```

```{r whitecolplot, fig.cap="Proportion of participants from Dataset 1 who were white, college educated and not Hispanic, plotted by recruitment method."}

img <- png::readPNG(path(fig_directory, "exploration_white.png"))

grid::grid.raster(img)

```


### Demographic distribution and exclusions

Figure \ref{fig:demobarfig} shows the distribution of participant ethnicities in Dataset 1 as compared with previously reported numbers in the published norming study of the paper-based CDI form by @fenson2007. Several issues pertaining to sample representativeness are appreciable. First, as shown in Figure \ref{fig:demobarfig}A, white participants comprised nearly three quarters of Dataset 1, which is comparable to U.S Census estimates in 2019 of U.S. residents between the ages of 15 and 34 in 2019; however, Figure \ref{fig:demobarfig}C shows that, compared with U.S. Census estimates, many more white participants in Dataset 1 were non-Hispanic than is true of the U.S. population in general, indicating that Web-CDI is significantly oversampling white, non-Hispanic individuals (the breakdown of white participants into Hispanic and non-Hispanic is not reported in the 2007 norms). Moreover, few participants identified as Hispanic/Latinx: `r wg_hispanic_percent` of WG participants and `r ws_hispanic_percent` of WS participants reported Hispanic or Latinx heritage. The low percentage of Hispanic/Latinx participants was due in part to our exclusion of children with substantial exposure to languages other than English: before exclusions, `r wg_all_hispanic_percent` of WG participants were Hispanic/Latinx, and `r ws_all_hispanic_percent` of WS participants were Hispanic/Latinx. Finally, representation of Black participants is generally lower in Dataset 1 (`r black_dataset_1`) than in the 2007 norms (`r black_norms`), which is in turn lower than U.S. Census estimates (`r black_census`). This indicates that both Web-CDI data and existing norming samples tend to substantially underrepresent Black participants.

Participants’ educational attainment level, as measured by the primary caregiver's highest educational level reached^[Maternal education level is a common measure of family socioeconomic status; we probe *primary caregiver* education level here to accommodate family structures in which child-rearing may not primarily be the responsibility of the child's mother, but we expect that in the vast majority of cases this corresponds to the child's mother.], was similarly skewed. In Dataset 1, `r college_above_webcdi` of responses came from families with college-educated primary caregivers compared to `r college_above_norms` from the same group in the 2007 norms and `r college_above_census` (Figure \ref{fig:demobarfig}). Furthermore, less than 1% of participants report a primary caregiver education level less than a high school degree, compared to 7% from the same group in the 2007 norms. 

The overrepresentation of white, non-Hispanic Americans and those with high levels of education attainment points to a general challenge encountered in vocabulary development research, which we return to when we detail our efforts to recruit more diverse participants. Figure \ref{fig:whitecolplot} shows that, of the recruitment methods used in Dataset 1, the studies conducted using the platform Prolific (which we detail in the *Dataset 2* section) contributed the least to the high proportion of white, non-Hispanic, college educated participants. Respondents not known to be recruited through an online channel or crowdsourcing platform (labeled "Other method" in Figure \ref{fig:whitecolplot}) showed the most overrepresentation of white, college educated participants, suggesting that reliance on university convenience samples may be driving the demographic skewness of Dataset 1 most acutely.

### Results: Dataset 1


```{r}
#read in wordbank data
english_wg_admins <- 
  get_administration_data("English (American)", "WG") %>% 
  rename(
    produced = production,
    understood = comprehension
  ) %>%
  mutate(maternal_ed = fct_collapse(
    mom_ed,
    `College diploma or more` = c("College", "Some Graduate", "Graduate"),
    `Some college education` = c("Some College"),
    `High school diploma` = c("Secondary"),
    `Some high school or less` = c("None", "Primary", "Some Secondary")
  ))

english_ws_admins <- 
  get_administration_data("English (American)", "WS") %>% 
  rename(produced = production) %>%
  mutate(maternal_ed = fct_collapse(
    mom_ed,
    `College diploma or more` = c("College", "Some Graduate", "Graduate"),
    `Some college education` = c("Some College"),
    `High school diploma` = c("Secondary"),
    `Some high school or less` = c("None", "Primary", "Some Secondary")
  ))

#merge wordbank and webcdi wg data
wg_combined <- 
  wg_filtered %>% 
  select(age, understood, produced, sex, maternal_ed) %>% 
  mutate(sample = "Web-CDI") %>% 
  bind_rows(
    english_wg_admins %>% 
      select(age, understood, produced, sex, maternal_ed) %>% 
      mutate(sample = "Wordbank")
  )

#doing the same as above for ws
ws_combined <- 
  ws_filtered %>% 
  select(age, produced, sex, maternal_ed) %>% 
  mutate(sample = "Web-CDI") %>% 
  bind_rows(
    english_ws_admins %>% 
      select(age, produced, sex, maternal_ed) %>% 
      mutate(sample = "Wordbank")
  )
```


```{r message=FALSE}

#creating dfs for the gender plot
# wg_filtered_gender <- 
#   wg_filtered %>% 
#   select(age, produced, sex)
# 
# ws_filtered_gender <- 
#   ws_filtered %>% 
#   select(age, produced, sex)

# #filter out kids without a binary gender listed
# all_d_gender <- 
#   bind_rows(ws_filtered_gender, wg_filtered_gender) 
# 
# all_d_gender_count <- all_d_gender %>% count(sex)
# 
# n_females <- all_d_gender_count$n[1] #total number of females
# n_males <- all_d_gender_count$n[2] #total number of males
# n_other <- all_d_gender_count$n[3] #other participants
# 
# #count the amount of participants
# all_gender_n <- sum(all_d_gender_count$n)

ws_and_wg_combined <- 
  bind_rows(
    ws_combined %>% mutate(measure = "Words and Sentences"), 
    wg_combined %>% 
      select(-understood) %>% 
      mutate(measure = "Words and Gestures")
  )

all_gender_n <- 
  ws_and_wg_combined %>% 
  filter(!is.na(sex) & sex != "Other") %>% 
  nrow()

webcdi_gender_n <- 
  ws_and_wg_combined %>% 
  filter(!is.na(sex) & sex != "Other" & sample == "Web-CDI") %>% 
  nrow()

webcdi_females_n <- 
  ws_and_wg_combined %>% 
  filter(sex == "Female" & sample == "Web-CDI") %>% 
  nrow()

wordbank_gender_n <- 
  ws_and_wg_combined %>% 
  filter(sample == "Wordbank" & !is.na(sex) & sex != "Other") %>% 
  nrow()

wordbank_females_n <- 
  ws_and_wg_combined %>% 
  filter(sample == "Wordbank" & sex == "Female") %>% 
  nrow()

other_gender_n <- 
  ws_and_wg_combined %>% 
  filter(sex == "Other") %>% 
  nrow()
  

gender_caption <- str_c(
  "Individual children’s vocabulary production scores plotted by children’s age and gender (both WG and WS). Left panel: Dataset 1 (full sample of Web-CDI administrations, N = ",
  formatC(webcdi_gender_n, big.mark = ",", big.interval = 3),
  ", with ",
  formatC(webcdi_females_n, big.mark = ",", big.interval = 3),
  " girls). Right panel: American English CDI administrations in the Wordbank repository (Frank et al., 2021), including only those administrations for which the child's gender was available (N = ",
  formatC(wordbank_gender_n, big.mark = ",", big.interval = 3),
  ", with ",
  formatC(wordbank_females_n, big.mark = ",", big.interval = 3),
  " girls). Lines are locally weighted regressions (LOESS) with associated 95% confidence intervals. Children with a different or no reported gender (N = ",
  other_gender_n,
  ") are omitted here."
)

#Comparisons with wordbank: gender

combined_gender_plot <- 
  ws_and_wg_combined %>% 
  filter(!is.na(sex) & sex != "Other") %>% 
  ggplot(aes(age, produced, color = sex)) +
  facet_grid(~sample) +
  geom_jitter(alpha = 0.1) +
  geom_smooth(method = "loess", size = 1.3) +
  labs(
    x = "Age in months",
    y = "Words Produced"
  ) +
  ggthemes::theme_few() +
  theme(legend.title = element_blank()) +
  scale_color_viridis_d(begin = 0.25, end = 0.75)

ggsave(
  "combined_gender_plot.png",
  plot = combined_gender_plot,
  path = fig_directory
)

```

```{r genderfig, fig.cap=gender_caption}

img <- png::readPNG(path(fig_directory, "combined_gender_plot.png"))

grid::grid.raster(img)

# genderfig_v1 <- 
#   all_d_gender %>% 
#   filter(sex != "Other") %>% 
#   ggplot(aes(age, produced, color = sex)) +
#   geom_jitter(alpha = 0.3, width = 0.225) +
#   geom_smooth(method = "loess") +
#   ggthemes::theme_few() +
#   coord_cartesian(ylim = c(0, 686)) +
#   labs(
#     x = "Age in months", 
#     y = "Total words produced"
#   ) +
#   theme(legend.title = element_blank())
# 
# genderfig_v1
# 
# ggsave(
#   "genderfig.png",
#   plot = genderfig_v1,
#   path = fig_directory
# )
# 
# genderfig_v2 <- 
#   all_d_gender %>% 
#   filter(sex != "Other") %>% 
#   ggplot(aes(age, produced, shape = sex, linetype = sex)) +
#   geom_jitter(alpha = 0.4, width = 0.225, size = 2) +
#   geom_smooth(method = "loess", color = "red") +
#   ggthemes::theme_few() +
#   coord_cartesian(ylim = c(0, 686)) +
#   labs(
#     x = "Age in months", 
#     y = "Total words produced"
#   ) +
#   theme(legend.title = element_blank())
# 
# ggsave(
#   "genderfig_v2.png",
#   plot = genderfig_v2,
#   path = fig_directory,
#   width = 7.29,
#   height = 4.5
# )

```


Although the CDI instruments include survey items intended to measure constructs other than vocabulary size, such as gesture, sentence production and grammar, we focus exclusively on the vocabulary measures here. We also visualize key analyses from Dataset 1 alongside the analogous analyses on the American English CDI administrations from the Wordbank repository [@Frank2021] that include the relevant demographic information needed to provide a comparison dataset of traditional paper-and-pencil forms. Across both the WG and WS measures, Dataset 1 shows greater reported vocabulary comprehension and production for older children. Moreover, data from both the WG and WS measures in Dataset 1 replicate a subtle but reliable pattern such that female children tend to have slightly larger vocabulary scores than male children across the period of childhood assessed in the CDI forms [@Frank2021], though in these data this difference does not appear until around 18 months (Figure \ref{fig:genderfig}). 

```{r}

#GLM fits for WG plot (including Wordbank comparison)
wg_momed <- 
  wg_combined %>%
  mutate(maternal_ed = maternal_ed %>% 
           fct_collapse("High school diploma or less" = c(
             "High school diploma", 
             "Some high school or less"
           )) %>% 
           fct_relevel(
             "College diploma or more",
             "Some college education",
             "High school diploma or less"
           )) %>%
  filter(!is.na(maternal_ed) & maternal_ed != "Not reported") %>%
  select(
    age, 
    `Words Understood` = understood,
    `Words Produced` = produced, 
    maternal_ed,
    sample
  ) %>%
  pivot_longer(
    cols = c("Words Understood", "Words Produced"),
    names_to = "measure",
    values_to = "words"
  )

wg_momed_models <- 
  wg_momed %>%
  mutate(words_false = wg_total_words - words) %>%
  group_by(measure, sample) %>%
  nest() %>%
  mutate(model = map(data, function(measure_data) {
    glm(cbind(words, words_false) ~ age * maternal_ed - maternal_ed,
        family = "binomial", data = measure_data)
  }))
  
data_cells_wg <- wg_momed %>% distinct(maternal_ed, age)

wg_momed_fits <- 
  wg_momed_models %>%
  mutate(fits = map(model, function(m) {
    data_cells_wg %>% 
      mutate(fitted = predict(m, newdata = data_cells_wg, type = "response"))
  })) %>%
  select(sample, measure, fits) %>%
  unnest(fits) %>%
  ungroup() %>%
  mutate(
    fitted = fitted * wg_total_words,
    measure = fct_relevel(measure, "Words Understood")
  )
  

##figure caption

wordbank_wg_n <- 
  wg_combined %>% 
  filter(sample == "Wordbank" & !is.na(maternal_ed)) %>% 
  nrow()

wgglm_caption <- 
  str_c(
    "Individual children's word production (top panels) and comprehension (bottom panels) scores from Dataset 1 (full Web-CDI sample) plotted by age and primary caregiver’s level of education (binned into \"High school diploma or less\", \"Some college education\", and \"College diploma or more\"). Left panels show results from the sample of Words and Gestures Web-CDI administrations collected as of November 2020 (N = ", formatC(filtered_n_wg, big.mark = ",", big.interval = 3), "), and right panels show the subset of American English administrations from Wordbank (Frank et al., 2021) that contain information about caregiver education (N = ", formatC(wordbank_wg_n, big.mark = ",", big.interval = 3), ") for comparison. Curves show generalized linear model fits."
  )

#4-facet plot of WG glm for wordbank and web-cdi
wgglm <- 
  wg_momed %>% 
  mutate(measure = fct_relevel(measure, "Words Understood")) %>% 
  ggplot(aes(age, words, color = maternal_ed)) +
  facet_wrap(measure~sample) +
  geom_jitter(alpha = 0.15, width = 0.225) +
  geom_line(aes(y = fitted), data = wg_momed_fits, size = 1.7, alpha = 0.8) +
  coord_cartesian(ylim = c(0, 396)) +
  ggthemes::theme_few() +
  labs(
    x = "Age in months", 
    y = "Number of words",
    color = "Primary caregiver education",
    linetype = "Primary caregiver education"
  ) +
  scale_x_continuous(breaks = seq(from = 8, to = 18, by = 2)) +
  scale_color_viridis_d(option = "inferno", begin = .3, end = .8) +
  theme(
    legend.position = "bottom",
    axis.title = element_text(size = 20),
    axis.text = element_text(size = 17),
    legend.title = element_text(size = 20),
    legend.text = element_text(size = 17),
    strip.text = element_text(size = 17),
    panel.spacing.y = unit(2, "lines")
  ) +
  guides(color = guide_legend(title.position = "top")) 

ggsave(
  "wgglm.png",
  plot = wgglm,
  path = fig_directory,
  width = 13,
  height = 11.5
)

```

```{r wgglm, fig.cap=wgglm_caption}

img <- png::readPNG(path(fig_directory, "wgglm.png"))

grid::grid.raster(img)

# wgglm_v2 <- 
#   ggplot(
#   wg_momed, 
#   aes(age, words, color = maternal_ed, linetype = maternal_ed)
# ) +
#   facet_grid(~measure) +
#   geom_jitter(alpha = 0.1, width = 0.225, size = 1.6) +
#   geom_line(aes(y = fitted), size = 1.2, data = wg_momed_fits, alpha = 0.8) +
#   scale_linetype_manual(values=c("solid", "dashed", "dotdash")) +
#   coord_cartesian(ylim = c(0, 396)) +
#   ggthemes::theme_few() +
#   labs(
#     x = "Age in months", 
#     y = "Number of words",
#     color = "Primary caregiver education",
#     linetype = "Primary caregiver education"
#   ) +
#   scale_x_continuous(breaks = seq(from = 8, to = 18, by = 2))
# 
# ggsave(
#   "wgglm_v2.png",
#   plot = wgglm_v2,
#   path = fig_directory
# )

```



```{r wgmedians}
wg_med_plot <- 
  wg_filtered %>% 
   mutate(
    maternal_ed = fct_recode(
      maternal_ed,
      "High school diploma or less" = "High school diploma",
      "High school diploma or less" = "Some high school or less"
    )
  ) %>% 
  filter(!is.na(maternal_ed) & maternal_ed != "Not reported") %>% 
  select(
    age, 
    `Words Understood` = understood, 
    `Words Produced` = produced, 
    maternal_ed
  ) %>% 
  pivot_longer(
    cols = c("Words Understood", "Words Produced"),
    names_to = "measure",
    values_to = "words"
  ) %>% 
  group_by(age, maternal_ed, measure) %>% 
  summarize(
    median = median(words, na.rm = TRUE),
    first_quartile = quantile(words, probs = 0.25, na.rm = TRUE),
    third_quartile = quantile(words, probs = 0.75, na.rm = TRUE)
  ) %>% 
  mutate(measure = fct_relevel(measure, "Words Understood")) %>% 
  ggplot(aes(age, median, color = maternal_ed)) +
  facet_grid(~measure) +
  geom_point(
    position = position_dodge(width = 0.7), 
    size = 3
  ) +
  geom_linerange(
    aes(ymin = first_quartile, ymax = third_quartile),
    position = position_dodge(width = 0.7),
    size = 0.8
  ) +
  scale_x_continuous(breaks = seq(from = 8, to = 18, by = 2)) +
  coord_cartesian(ylim = c(0, 390)) +
  ggthemes::theme_few() +
  labs(
    x = "Age in months",
    y = "Nmber of words"
  ) + 
   theme(
    axis.text = element_text(size = 15),
    axis.title = element_text(size = 15),
    legend.text = element_text(size = 15),
    strip.text = element_text(size = 15),
    legend.position = "bottom",
    legend.title = element_blank()
  ) +
  scale_color_viridis_d(option = "inferno", begin = 0.3, end = 0.8)

wg_med_plot_v2 <- 
  wg_filtered %>% 
   mutate(
    maternal_ed = fct_recode(
      maternal_ed,
      "High school diploma or less" = "High school diploma",
      "High school diploma or less" = "Some high school or less"
    )
  ) %>% 
  filter(!is.na(maternal_ed) & maternal_ed != "Not reported") %>% 
  select(
    age, 
    `Words Understood` = understood, 
    `Words Produced` = produced, 
    maternal_ed
  ) %>% 
  pivot_longer(
    cols = c("Words Understood", "Words Produced"),
    names_to = "measure",
    values_to = "words"
  ) %>% 
  group_by(age, maternal_ed, measure) %>% 
  summarize(
    median = median(words, na.rm = TRUE),
    first_quartile = quantile(words, probs = 0.25, na.rm = TRUE),
    third_quartile = quantile(words, probs = 0.75, na.rm = TRUE)
  ) %>% 
  ggplot(aes(age, median, linetype = maternal_ed, shape = maternal_ed)) +
  facet_grid(~measure) +
  geom_point(
    position = position_dodge(width = 0.7), 
    size = 3, 
    alpha = 0.6, 
    fill = "orange",
    color = "black"
  ) +
  scale_shape_manual(values = c(21, 22, 24)) +
  geom_linerange(
    aes(ymin = first_quartile, ymax = third_quartile),
    position = position_dodge(width = 0.7),
    size = 0.8
  ) +
  scale_linetype_manual(values = c("solid", "dashed", "dotted")) +
  scale_x_continuous(breaks = seq(from = 8, to = 18, by = 2)) +
  coord_cartesian(ylim = c(0, 390)) +
  ggthemes::theme_few() +
  labs(
    x = "Age in months",
    y = "Nmber of words"
  ) + 
   theme(
    axis.text = element_text(size = 15),
    axis.title = element_text(size = 15),
    legend.text = element_text(size = 15),
    strip.text = element_text(size = 15),
    legend.position = "bottom",
    legend.title = element_blank()
  )

ggsave(
  "median_plot.png", 
  plot = wg_med_plot,
  path = fig_directory,
  width = 12,
  height = 8
)

ggsave(
  "median_plot_v2.png", 
  plot = wg_med_plot_v2,
  path = fig_directory,
  width = 12,
  height = 8
)

medplot_caption <- "Median vocabulary comprehension (left) and production (right) scores from Dataset 1 (full Web-CDI sample) by age and primary caregiver's level of education attainment on the WG form. Lines indicate span between first and third quartiles for each age."
```

```{r wgmedfig, fig.cap=medplot_caption}

img <- png::readPNG(path(fig_directory, "median_plot.png"))

grid::grid.raster(img)


```


```{r}

##fitting GLM's for WS data
ws_momed <- 
  ws_combined %>%
  mutate(maternal_ed = maternal_ed %>% 
           fct_collapse("High school diploma or less" = c(
             "High school diploma", 
             "Some high school or less"
           )) %>% 
           fct_relevel(
             "College diploma or more",
             "Some college education",
             "High school diploma or less"
           )) %>%
  filter(!is.na(maternal_ed) & maternal_ed != "Not reported") %>%
  select(
    age, 
    produced, 
    maternal_ed,
    sample
  ) 

ws_momed_models <- 
  ws_momed %>%
  mutate(words_false = ws_total_words - produced) %>%
  group_by(sample) %>% 
  nest() %>%
  mutate(model = map(data, function(measure_data) {
    glm(cbind(produced, words_false) ~ age * maternal_ed - maternal_ed,
        family = "binomial", data = measure_data)
  }))
  
data_cells_ws <- ws_momed %>% distinct(maternal_ed, age)

ws_momed_fits <- 
  ws_momed_models %>%
  mutate(fits = map(model, function(m) {
    data_cells_ws %>% 
      mutate(fitted = predict(m, newdata = data_cells_ws, type = "response"))
  })) %>%
  select(fits) %>%
  unnest(fits) %>%
  mutate(fitted = fitted * ws_total_words)

wordbank_ws_n <- 
  ws_combined %>% 
  filter(sample == "Wordbank" & !is.na(maternal_ed)) %>% 
  nrow()

wsglm_caption <- 
  str_c("Individual children’s vocabulary production scores from Dataset 1 (full Web-CDI sample) plotted by children’s age and primary caregiver education level of primary caregiver education on as reported in the sample of Words and Sentences Web-CDI administrations collected as of November 2020 (N = ", formatC(filtered_n_ws, big.mark = ",", big.interval = 3), ", left panel) and in the Wordbank repository (N = ", formatC(wordbank_ws_n, big.mark = ",", big.interval = 3), ", right panel).   Curves show generalized linear model fits.")

#number of WS participants with less than high school education

no_hs_ws <- 
  ws_filtered %>% 
  filter(maternal_ed == "Some high school or less") %>% 
  nrow()

wsglm <- 
  ggplot(ws_momed, aes(age, produced, color = maternal_ed)) +
  facet_grid(~sample) +
  geom_jitter(alpha = 0.12, width = 0.225) +
  geom_line(aes(y = fitted), data = ws_momed_fits, size = 1.75, alpha = 0.8) +
  coord_cartesian(ylim = c(0, ws_total_words)) +
  ggthemes::theme_few() +
  labs(
    color = "Primary caregiver education level", 
    x = "Age in months", 
    y = "Number of words"
  ) +
  scale_x_continuous(breaks = seq(from = 16, to = 30, by = 2)) +
  scale_color_viridis_d(option = "inferno", begin = .3, end = .8) +
  theme(legend.position = "bottom") +
  guides(color = guide_legend(title.position = "top"))

ggsave(
  "wsglm.png",
  plot = wsglm,
  path = fig_directory
)

```

```{r wsglm, fig.cap=wsglm_caption}

img <- png::readPNG(path(fig_directory, "wsglm.png"))

grid::grid.raster(img)


# wsglm_v2 <- 
#   ggplot(
#     ws_momed, 
#     aes(age, produced, color = maternal_ed, linetype = maternal_ed)
#   ) +
#   geom_jitter(alpha = 0.1, width = 0.225, size = 1.6) +
#   geom_line(aes(y = fitted), size = 1.2, data = ws_momed_fits, alpha = 0.8) +
#   scale_linetype_manual(values=c("solid", "dashed", "dotdash")) +
#   coord_cartesian(ylim = c(0, ws_total_words)) +
#   ggthemes::theme_few() +
#   labs(
#     shape = "Primary caregiver education level", 
#     linetype = "Primary caregiver education level",
#     x = "Age in months", 
#     y = "Number of words"
#   ) +
#   scale_x_continuous(breaks = seq(from = 16, to = 30, by = 2)) 
# 
# ggsave(
#   "wsglm_v2.png",
#   plot = wsglm_v2,
#   path = fig_directory
# )


```



```{r}
#WG Linear regression models

wg_lm_df <- 
  wg_filtered %>% 
  filter(maternal_ed != "Not reported") %>% 
  mutate(
    age_c = age - mean(age, na.rm = TRUE),
    maternal_ed_c = mother_education - mean(mother_education, na.rm = TRUE),
    maternal_ed = fct_recode(
      maternal_ed,
      "High school diploma or less" = "High school diploma",
      "High school diploma or less" = "Some high school or less"
    )
  ) 

ses_wg_lm_comp <- 
  lm_robust(formula = understood ~ age_c * maternal_ed, data = wg_lm_df)

beta_age_comp <- ses_wg_lm_comp$coefficients[[2]]
p_age_comp <- ses_wg_lm_comp$p.value[[2]]

beta_hs_ed_comp <- ses_wg_lm_comp$coefficients[[4]]
p_hs_ed_comp <- ses_wg_lm_comp$p.value[[4]]

ses_wg_lm_prod <- 
  lm_robust(formula = produced ~ age_c * maternal_ed, data = wg_lm_df)

beta_age_prod <- ses_wg_lm_prod$coefficients[[2]]
p_age_prod <- ses_wg_lm_prod$p.value[[2]]

beta_hs_ed_prod <- ses_wg_lm_prod$coefficients[[4]]
p_hs_ed_prod <- ses_wg_lm_prod$p.value[[4]]


 
```


```{r eval=FALSE}
#boxplot to show maternal ed distributions
wordbank_boxplot <- 
  wg_combined %>% 
  filter(!is.na(maternal_ed) & maternal_ed != "Not reported") %>% 
  mutate(
    age = factor(age),
    maternal_ed = fct_collapse(
      maternal_ed,
      `High school or less` = c(
        "High school diploma", 
        "Some high school or less"
      )
    )
  ) %>% 
  ggplot(aes(age, produced, color = sample)) +
  facet_wrap(~maternal_ed, ncol = 1) + 
  geom_boxplot() +
  ggthemes::theme_few() +
  labs(
    x = "Age in months",
    y = "Words produced"
  ) + 
  theme(legend.title = element_blank())

ggsave(
  "wordbank_boxplot.png",
  plot = wordbank_boxplot,
  path = fig_directory
)

```


On the WG form, respondents’ reports of children’s vocabulary comprehension and production both increased with children’s age (Figure \ref{fig:wgglm}). We replicate overall patterns found by @feldman2000 in that, on both the "Words Understood" measure (in which caregivers indicate which words their child "understands") and the "Words Produced" measure (in which caregivers indicate which words their child "understands and says"), vocabulary scores were slightly negatively correlated with primary caregivers’ education level, such that those caregivers without any college education reported higher vocabulary scores on both scales; on the word comprehension scale, this was particularly the case for the youngest infants in the sample. A linear regression model with robust standard errors predicting comprehension scores with children’s age and primary caregivers’ education level (binned into categories of "High school diploma or less", "Some college education" and "College diploma or more"^["High school diploma or less" corresponds to 12 or fewer years of education; "Some college" corresponds to 13 - 15 years of education; "College diploma or more" refers to 16 or more years of education.]) as predictors shows main effects of both age ($\beta$ = `r round(beta_age_comp, 3)`, $p$ < 0.001) and caregiver primary education ($\beta_{high school}$ = `r round(beta_hs_ed_comp, 3)`, $p$ = `r round(p_hs_ed_comp, 3)`). Similarly, a linear regression model with robust standard errors predicting production scores by children’s age and primary caregivers’ education level shows main effects of age ($\beta$ = `r round(beta_age_prod, 3)`, $p$ < 0.001) and caregiver primary education ($\beta_{high school}$ = `r round(beta_hs_ed_prod, 4)`, $p$ = `r broman::myround(p_hs_ed_prod, digits = 3)`). These analyses were not preregistered, but generally follow the analytic strategy in @Frank2021; additionally, we fit linear models with robust standard errors to account for heteroskedasticity in the data [@Astivia2019]. Generalized linear model predictions for Web-CDI shown in Figure \ref{fig:wgglm} differ somewhat from those for Wordbank; prediction curves for caregivers of different education attainment levels diverge slightly more in the Web-CDI sample than in the Wordbank sample.

The pattern of results seen in the WG subsample of Dataset 1 is consistent with prior findings indicating that respondents with lower levels of education attainment report higher vocabulary comprehension and production on the CDI-WG form [@fenson1994; @feldman2000]. However, although caregivers with lower levels of education attainment report higher mean levels of vocabulary production and comprehension, median vocabulary scores (which are more robust to outliers) show no clear pattern of difference across primary caregiver education levels (Figure \ref{fig:wgmedfig}). This discrepancy between the regression effects and a group-median analysis suggests that the regression effects described previously are driven in part by differential interpretation of the survey items, such that a few caregivers with lower levels of education attainment are more liberal in reporting their children’s production and comprehension vocabulary scores, especially for the youngest children, driving up the mean scores for this demographic group.

```{r}
ws_med_plot <- 
  ws_filtered %>% 
   mutate(
    maternal_ed = fct_recode(
      maternal_ed,
      "High school diploma or less" = "High school diploma",
      "High school diploma or less" = "Some high school or less"
    )
  ) %>% 
  filter(!is.na(maternal_ed) & maternal_ed != "Not reported") %>% 
  select(
    age, 
    produced, 
    maternal_ed
  ) %>% 
  group_by(age, maternal_ed) %>% 
  summarize(
    median = median(produced, na.rm = TRUE),
    first_quartile = quantile(produced, probs = 0.25, na.rm = TRUE),
    third_quartile = quantile(produced, probs = 0.75, na.rm = TRUE)
  ) %>% 
  ggplot(aes(age, median, color = maternal_ed)) +
  geom_point(
    position = position_dodge(width = 0.7), 
    size = 3
  ) +
  geom_linerange(
    aes(ymin = first_quartile, ymax = third_quartile),
    position = position_dodge(width = 0.7),
    size = 0.8
  ) +
  scale_x_continuous(breaks = seq(from = 16, to = 30, by = 2)) +
  coord_cartesian(ylim = c(0, 700)) +
  ggthemes::theme_few() +
  labs(
    x = "Age in months",
    y = "Number of words produced"
  ) + 
   theme(
    axis.text = element_text(size = 15),
    axis.title = element_text(size = 15),
    legend.text = element_text(size = 15),
    strip.text = element_text(size = 15),
    legend.position = "bottom",
    legend.title = element_blank()
  ) +
  scale_color_viridis_d(option = "inferno", begin = 0.3, end = 0.8)

ggsave(
  "wsmedplot.png",
  plot = ws_med_plot,
  path = fig_directory,
  width = 10,
  height = 7
)

wsmedplot_caption <- "Median vocabulary production scores from Dataset 1 (full Web-CDI sample) by age and primary caregiver's level of education attainment on the WS form. Lines indicate span between first and third quartiles for each age."

```

```{r wsmedfig, fig.cap=wsmedplot_caption}

img <- png::readPNG(path(fig_directory, "wsmedplot.png"))

grid::grid.raster(img)

```

Vocabulary production scores on the WS form show the expected pattern of increase with children’s age in months; in addition, scores replicate the trend reported in @feldman2000 and @Frank2021 such that primary caregiver education is positively associated with children’s reported vocabulary size (Figure \ref{fig:wsglm}). Because representation of caregivers without a high school diploma is scarce (N = `r no_hs_ws` out of a sample of `r formatC(filtered_n_ws, big.mark = ",", big.interval = 3)`), interpretation of the data from this group is constrained. Nevertheless, as shown in Figure \ref{fig:wsglm}, a small but clear positive association between primary caregiver education and vocabulary score exists such that college-educated caregivers report higher vocabulary scores than those of any other education level. Notably, this association is not the result of outliers and is still appreciable in median scores (Figure \ref{fig:wsmedfig}), unlike the data from the WG measure shown in Figure \ref{fig:wgmedfig}. The implications from these data converge with previous findings which indicate that parental education levels, often used as a metric of a family’s socioeconomic status, are related to children’s vocabulary size through early childhood. 

### Discussion: Dataset 1
In general, the full sample of Web-CDI data after exclusions (Dataset 1) replicates previous norming datasets used with the standard paper-and-pencil form of the MB-CDI. We find that vocabulary scores grow with age and that females hold a slight advantage over males in early vocabulary development. Moreover, Dataset 1 replicates a previously documented relationship between primary caregiver education level and vocabulary scores: on the WG form, primary caregiver education shows a slight negative association with vocabulary scores, whereas the trend is reversed in the WS form. Taken together, these data illustrate that Web-CDI and the standard paper-and-pencil form of the CDI give similar results, and thus that Web-CDI can be used as a valid alternative to the paper format.

The data discussed above have resulted from efforts by many researchers across the United States whose motivations for using the Web-CDI vary. As a result, they reproduce many of the biases of standard U.S. convenience samples. In the next section, we describe in more detail our recent efforts to use the Web-CDI to collect vocabulary development data from traditionally underrepresented participant populations in the United States, attempting to counteract these trends. 

## Dataset 2: Using Web-CDI to Collect Data from Diverse U.S.-based Communities

Despite the large sample sizes we achieved in the previous section, Dataset 1 is, if anything, even more biased towards highly-educated and white families than previous datasets collected using the paper-and-pencil form.  How can we recruit more diverse samples to remedy this issue? Here, we discuss and analyze Dataset 2, which consists of those administrations from Dataset 1 which were part of recent data-collection efforts (within the past year and a half) that were specifically aimed towards exploring the use of online recruitment as a potential way to collect more diverse participant samples than are typical in the literature. In other words, the following data from Dataset 2 were included in the previous discussion and analysis of Dataset 1, but we examine them separately here to give special attention to the issue of collecting diverse samples online.

### Online data collection

Online recruitment methods, such as platforms like Amazon Mechanical Turk, Facebook and Prolific, represent one possible route towards assembling a large, diverse sample. These methods allow researchers to depart from their typical geographical recruitment area much more easily than with paper-and-pencil administration. Online recruitment strategies for vocabulary development data collection have been used in the United Kingdom [@Alcock2020], but their usage in the U.S. context remains, to our knowledge, rare. In a series of data collection efforts, we used Web-CDI as a tool to explore these different channels of recruitment. 

```{r facebookad, fig.cap="Example Facebook advertisement in Phase 1 of recent data collection."}

img <- png::readPNG(path(fig_directory, "facebook_ad.png"))

grid::grid.raster(img)

```

```{r}
load(ses_sample_exclusions)

exclusion_tbl_ses %>% 
  kbl(
    booktabs = TRUE, 
    linesep = "", 
    caption = "Exclusions from Dataset 2: recent data collection using Facebook and Prolific."
  ) %>% 
  kable_styling(
    position = "center",
    latex_options = "scale_down"
  ) %>% 
  column_spec(1, width = "2.4in") %>% 
  column_spec(2:5, width = "1in") %>% 
  row_spec(0, bold = TRUE)

```


Dataset 2 consists of data that were collected in two phases. In the first phase, we ran advertisements on Facebook which were aimed at non-white families based on users’ geographic locations (e.g., targeting users living in majority-Black cities) or other profile features (e.g., ethnic identification, interest in parenthood-related topics). Advertisements consisted of an image of a child and a caption informing Facebook users of an opportunity to fill out a survey on their child’s language development and receive an Amazon gift card (Figure \ref{fig:facebookad}). Upon clicking the advertisement, participants were redirected to a unique administration of the Web-CDI; they received $5 upon completing the survey. This open-ended approach to recruitment offered several advantages, namely that a wide variety of potential participants from specific demographic backgrounds can be reached on Facebook. However, we also received many incomplete or otherwise unusable survey administrations, either from Facebook users who clicked the link and decide not to participate, or those who completed the survey in an extremely short period of time (over half of all completed administrations, Table 2). 

```{r}
prolific_filtered_n <- 
  ws_ses %>% 
  filter(str_detect(study_name, "prolific")) %>% 
  nrow()
```

In the second phase, we used the crowdsourcing survey vendor Prolific (http://prolific.co) in the hopes that some of the challenges encountered with Facebook recruitment would be addressed. Prolific allows researchers to create studies and post them to individuals who are in the platform's participant database, each of whom is assigned a unique alphanumeric "Prolific ID". Importantly, Prolific maintains detailed demographic information about participants, allowing researchers to specify who they would like to complete their studies. Prolific further has a built-in compensation infrastructure that handles monetary payments to participants, eliminating the need to disburse gift cards through Web-CDI. 

In the particular case of Web-CDI, the demographic information needed to determine whether an individual was eligible to complete our survey (e.g., has a child in the correct age range, lives in a monolingual household, etc.) was more specific than the information that Prolific collects about their participant base. We therefore used a brief pre-screening questionnaire to generate a list of participants who were eligible to participate, and subsequently advertised the Web-CDI survey to those participants. Given that we were interested only in reaching participants in the United States who were not white or who did not have a college diploma, our data collection efforts only yielded a sample that was small (N = `r prolific_filtered_n`) but much more thoroughly screened than that which we could obtain on Facebook. 

```{r}

#Looking at just the folks who completed the survey but went too fast

completed_wg_ses <- 
  all_wg_raw_ses %>% 
  filter(completed == TRUE)

completed_ws_ses <- 
  all_ws_raw_ses %>% 
  filter(completed == TRUE)

completed_hasty_wg_ses <- 
  all_wg_raw_ses %>% 
  filter(completed == TRUE) %>% 
  getCompletionInterval() %>% 
  getEthnicities() %>% 
  getMaternalEd() %>% 
  getCompletionInterval() %>% 
  filter(completion_time < 8.5)
  

completed_hasty_ws_ses <- 
  all_ws_raw_ses %>% 
  filter(completed == TRUE) %>% 
  getCompletionInterval() %>% 
  getEthnicities() %>% 
  getMaternalEd() %>% 
  getCompletionInterval() %>% 
  filter(completion_time < 8.5)

percent_no_eth_wg <- 
  completed_hasty_wg_ses %>% 
  count(ethnicity) %>% 
  mutate(prop = n / sum(n)) %>% 
  slice(4) %>% 
  pull(3) %>% 
  percent()

percent_no_eth_ws <- 
  completed_hasty_ws_ses %>% 
  count(ethnicity) %>% 
  mutate(prop = n / sum(n)) %>% 
  slice(3) %>% 
  pull(3) %>% 
  percent()

n_total_wg_ses <- nrow(completed_wg_ses)
n_total_ws_ses <- nrow(completed_ws_ses)

n_exclusions_wg_ses <- 
  exclusion_tbl_ses %>% slice(8) %>% pull(2) %>% as.numeric()

n_exclusions_ws_ses <- 
  exclusion_tbl_ses %>% slice(8) %>% pull(4) %>% as.numeric()

percent_excluded <- 
  ((n_exclusions_wg_ses + n_exclusions_ws_ses) / 
     (n_total_wg_ses + n_total_ws_ses)) %>% 
  percent()

```


Across both phases (Facebook and Prolific recruitment), we used the same exclusion criteria as in the full Web-CDI sample to screen participants. A complete tally of all excluded participants is shown in Table 2. In both the WG and WS surveys, exclusion rates in Dataset 2 were high, amounting to `r percent_excluded` of participants who completed the survey. The high exclusion rates were notably driven by an accumulation of survey administrations which participants completed more quickly than our time cutoffs allow (Tables A4 and A5). Many of the survey administrations excluded for fast completion also had missing demographic information reported: Among WG participants excluded for too-fast completions, `r percent_no_eth_wg` did not report ethnicity, and among WS participants excluded for the same reason, `r percent_no_eth_ws` did not report ethnicity. Absence of these data prevents us from drawing conclusions about the origin or demographic profile of administrations that were excluded. After exclusions, full sample size in Dataset 2 was N = `r nrow(wg_ses)` WG completions and N = `r nrow(ws_ses)` WS completions.

```{r}

#Putting together a dataframe of all the demographic info in the ses sample
demographics_df_ses <- 
  bind_rows(
    wg_ses %>% 
      select(
        study_name,
        subject_id,
        sex,
        age,
        ethnicity, 
        maternal_ed, 
        produced
      ),
    ws_ses %>% 
      select(
        study_name,
        subject_id,
        sex,
        age,
        ethnicity,
        maternal_ed,
        produced
      )
  )

```


```{r}
#Prepare the gender plots and numbers for the caption.
wg_gender_ses <- 
  wg_ses %>% 
  select(age, produced, sex)

ws_gender_ses <- 
  ws_ses %>% 
  select(age, produced, sex)

all_d_gender_ses <- 
  bind_rows(ws_gender_ses, wg_gender_ses) 

all_d_gender_count_ses <- all_d_gender_ses %>% count(sex)

n_females_ses <- all_d_gender_count_ses %>% slice(1) %>% pull(2)
n_males_ses <- all_d_gender_count_ses %>% slice(2) %>% pull(2)
n_other_ses <- all_d_gender_count_ses %>% slice(3) %>% pull(2)

all_gender_n_ses <- all_d_gender_count_ses$n %>% sum()

gender_caption_ses <- str_c(
  "Individual children’s vocabulary production scores from Dataset 2 (recent data collection efforts) plotted by children’s age and gender (both WG and WS, N = ",
  formatC(all_gender_n_ses - n_other_ses, big.mark = ",", big.interval = 3),
  ", with ",
  formatC(n_females_ses, big.mark = ",", big.interval = 3),
  " girls). Lines are best linear fits with associated 95% confidence intervals. Children with a different or no reported gender (N = ",
  n_other_ses,
  ") are omitted here."
)
```

```{r genderses, fig.cap=gender_caption_ses}

genderses_v1 <- 
  all_d_gender_ses %>% 
  filter(sex != "Other") %>% 
  ggplot(aes(age, produced, color = sex)) +
  ggthemes::theme_few() +
  geom_jitter(alpha = 0.6, width = 0.225, size = 2) +
  geom_smooth(method = "lm") +
  coord_cartesian(ylim = c(0, 686)) +
  labs(
    x = "Age in months", 
    y = "Total words produced",
    color = "Child gender"
  ) +
  scale_color_viridis_d(begin = 0.25, end = 0.75)

genderses_v1

ggsave(
  "genderses_v1.png",
  plot = genderses_v1,
  path = fig_directory
)

genderses_v2 <- 
  all_d_gender_ses %>% 
  filter(sex != "Other") %>% 
  ggplot(aes(age, produced, linetype = sex, shape = sex)) +
  ggthemes::theme_few() +
  geom_jitter(alpha = 0.6, width = 0.225, size = 2) +
  geom_smooth(method = "lm") +
  coord_cartesian(ylim = c(0, 686)) +
  labs(
    x = "Age in months", 
    y = "Total words produced",
    linetype = "Child gender",
    shape = "Child gender"
  ) 

ggsave(
  "genderses_v2.png",
  plot = genderses_v2,
  path = fig_directory
)

```


```{r}
#Make tibble to show vocab scores by primary caregiver education

momed_ses_df <- 
  demographics_df_ses %>% 
  mutate(highschool = case_when(
    maternal_ed == "Some high school or less" ~ "High school",
    maternal_ed == "High school diploma" ~ "High school",
    maternal_ed == "Some college education" ~ "College",
    maternal_ed == "College diploma or more" ~ "College"
  ))

#Caption for momed plot
momed_caption_ses <- 
  str_c(
    "Individual children's vocabulary production scores from Dataset 2 (recent data collection efforts) plotted by age and level of primary caregiver education, binned into those with a high school diploma or less education and those with some college education or a college diploma (N = ",
    nrow(wg_ses) + nrow(ws_ses),
    "). Lines show best linear fits and associated 95% confidence intervals."
  )

```


```{r momedses, fig.cap=momed_caption_ses}
momed_ses_v1 <- 
  momed_ses_df %>% 
  filter(
    age <= 30
  ) %>% 
  ggplot(aes(age, produced, color = highschool)) +
  geom_jitter(alpha = 0.6, width = 0.225, size = 2) +
  geom_smooth(method = "lm") +
  labs(
    x = "Age in months",
    y = "Words produced"
  ) +
  ggthemes::theme_few() +
  theme(legend.title = element_blank()) +
  scale_color_viridis_d(option = "inferno", begin = 0.3, end = 0.8) +
  coord_cartesian(ylim = c(0, 600))

momed_ses_v1

ggsave(
  "momed_ses_v1.png",
  plot = momed_ses_v1,
  path = fig_directory
)

# momed_ses_v2 <- 
#   momed_ses_df %>% 
#   filter(
#     age <= 30
#   ) %>% 
#   ggplot(aes(age, produced, linetype = highschool, shape = highschool)) +
#   geom_jitter(alpha = 0.6, width = 0.225, size = 2) +
#   geom_smooth(method = "lm") +
#   labs(
#     x = "Age in months",
#     y = "Words produced"
#   ) +
#   ggthemes::theme_few() +
#   theme(legend.title = element_blank())
# 
# ggsave(
#   "momed_ses_v2.png",
#   plot = momed_ses_v2,
#   path = fig_directory
# )

```


```{r}
#Ethnicity and maternal ed plot for the SES norming sample

ethnicity_plot_df_ses <- 
  demographics_df_ses %>% 
  getEthnicitySummary() %>% 
  filter(
    !is.na(ethnicity),
    ethnicity != "No ethnicity reported"
  ) %>% 
  mutate(`Dataset 2: Recent data collection efforts` = prop.table(n)) %>% 
  left_join(old_ethnicity_numbers, by = "ethnicity") %>% 
  left_join(census_ethnicity_numbers, by = "ethnicity") %>% 
  select(-n) %>% 
  pivot_longer(
    cols = c(
      `Dataset 2: Recent data collection efforts`, 
      `2007 manual`, 
      `U.S. Census Estimates`
    ),
    names_to = "study",
    values_to = "proportion"
  ) %>% 
  mutate(study = fct_relevel(
    study,
    "Dataset 2: Recent data collection efforts", 
    "2007 manual", 
    "U.S. Census Estimates"
  ))

ethnicity_plot_ses <-
  ethnicity_plot_df_ses %>% 
  ggplot(aes(ethnicity, proportion, fill = study)) +
  geom_col(position = "dodge") +
  labs(
    y = "Proportion of\nrespondents"
  ) +
  ggthemes::theme_few() +
  theme(
    legend.title = element_blank(), 
    axis.text.x = element_text(
       angle = 25, 
       vjust = 0.9, 
       hjust = 1
     )
  ) +
  labs(x = "Race") +
  scale_fill_viridis_d() +
  coord_cartesian(ylim = c(0, .81))

maternal_ed_plot_df_ses <- 
  demographics_df_ses %>% 
  count(maternal_ed) %>% 
  mutate(`Dataset 2: Recent data collection efforts` = prop.table(n)) %>% 
  left_join(old_momed_numbers, by = "maternal_ed") %>% 
  left_join(census_momed_numbers, by = "maternal_ed") %>% 
  select(-n) %>% 
  pivot_longer(
    cols = c(
      `Dataset 2: Recent data collection efforts`, 
      `2007 manual`, 
      `U.S. Census Estimates`
    ),
    names_to = "study",
    values_to = "proportion"
  ) %>% 
  mutate(
    maternal_ed = fct_relevel(
      maternal_ed,
      "Some high school or less",
      "High school diploma",
      "Some college education",
      "College diploma or more"
    )
  ) %>% 
  mutate(study = fct_relevel(
    study,
    "Dataset 2: Recent data collection efforts", 
    "2007 manual", 
    "U.S. Census Estimates"
  ))


x_axis_labs <- c(
  "Some high school\n or less",
  "High school\ndiploma",
  "Some college\neducation",
  "College diploma\nor more"
)

maternal_ed_plot_ses <- 
  maternal_ed_plot_df_ses %>% 
  filter(maternal_ed != "Not reported") %>% 
  ggplot(aes(maternal_ed, proportion, fill = study)) +
  geom_col(position = "dodge") +
  labs(x = "Primary caregiver education") +
  ggthemes::theme_few() +
  theme(
    legend.title = element_blank(),
    axis.text.x = element_text(angle = 25, vjust = 0.9, hjust = 1)
  ) + 
  scale_x_discrete(labels = x_axis_labs) +
  scale_fill_viridis_d() +
  coord_cartesian(ylim = c(0, .81))

prow_ses <- cowplot::plot_grid(
  ethnicity_plot_ses + 
    theme(
      legend.position = "none", 
      plot.margin = (margin(r = 2, l = 0)),
      axis.text = element_text(size = 15),
      axis.title = element_text(size = 15)
    ),
  maternal_ed_plot_ses + 
    ylab(NULL) + 
    theme(
      legend.position = "none", 
      plot.margin = (margin(r = 2, l = 2)),
      axis.text = element_text(size = 15),
      axis.title = element_text(size = 15)
    ),
  align = "hv",
  labels = c("A", "B")
)

legend_ses <- 
  get_legend(
    ethnicity_plot_ses + 
      # guides(color = guide_legend(nrow = 1)) + 
      # theme(legend.position = "bottom")
      theme(
        legend.box.margin = margin(0, 0, 0, 15),
        legend.text = element_text(size = 15),
        legend.position = "bottom"
      )
  )

demo_barplot_ses <- 
  plot_grid(prow_ses, legend_ses, ncol = 1, rel_heights = c(1, .1))

ggsave(
  "demo_barplot_ses.png", 
  plot = demo_barplot_ses,
  path = fig_directory,
  width = 12,
  height = 8
)

demo_barplot_caption_ses <- 
  str_c("Proportion of respondents plotted by child race (A) and educational level of primary caregiver (B) from Dataset 2, recent data collection efforts aimed towards oversampling non-white, less highly-educated families (N = ",
        nrow(wg_ses) + nrow(ws_ses),
        "), compared with norming sample demographics from Fenson (2007). Latinx participants can be of any race and are thus not represented as a separate category here.")
```

```{r demobarses, fig.cap=demo_barplot_caption_ses}

img <- png::readPNG(path(fig_directory, "demo_barplot_ses.png"))

grid::grid.raster(img)

```


The results from Dataset 2 show overall similar patterns to the full Web-CDI sample in several regards. Word production scores from both the WG and WS administrations reflect growing productive vocabulary across the second and third years, with a very small gender effect such that female children’s vocabularies are higher across age than males’ (Figure \ref{fig:genderses}). The relationship between caregivers’ reported levels of education and child’s vocabulary score is not as clear as it is in the full Web-CDI sample (Figure \ref{fig:momedses}); however, children of college-educated caregivers reported generally higher vocabulary scores across age than did children of caregivers without any college degree. These patterns suggest that our data show similar general patterns to other CDI datasets with other populations [@Frank2021].

Importantly, Dataset 2 showed a substantial improvement in reaching non-white or less highly-educated participants. After exclusions, Dataset 2 has a higher proportion of non-white participants than Dataset 1 (the overall Web-CDI sample) and the norms established by @fenson2007 (Figure \ref{fig:demobarses}). Black participants in particular showed a marked increase in representation, from `r ethnicity_plot_df_ses %>% slice(5) %>% pull(3) %>% percent(accuracy = 0.1)` in the 2007 norms to `r ethnicity_plot_df_ses %>% slice(4) %>% pull(3) %>% percent(accuracy = 0.1)` in Dataset 2, while the proportion of white participants decreased from `r ethnicity_plot_df_ses %>% slice(11) %>% pull(3) %>% percent(accuracy = 0.1)` in the 2007 norms to `r ethnicity_plot_df_ses %>% slice(10) %>% pull(3) %>% percent(accuracy = 0.1)` in Dataset 2. Representation on the basis of families’ reported primary caregiver education also improved (Figure \ref{fig:demobarses}). Participants with only a high school diploma accounted for `r maternal_ed_plot_df_ses %>% slice(7) %>% pull(3) %>% percent(accuracy = 0.1)` of Dataset 2 as compared to `r maternal_ed_plot_df_ses %>% slice(8) %>% pull(3) %>% percent(accuracy = 0.1)` in the 2007 norms, and representation of those with a college diploma or more education decreased from `r maternal_ed_plot_df_ses %>% slice(2) %>% pull(3) %>% percent(accuracy = 0.1)` in the 2007 norms to `r maternal_ed_plot_df_ses %>% slice(1) %>% pull(3) %>% percent(accuracy = 0.1)` in Dataset 2. Notably, the distribution of Dataset 2 with regards to primary caregiver education level is quite similar to @kristoffersen2013, who collected a large, nationally-representative sample of CDI responses in Norway and obtained a sample with 30%, 42%, and 24% for participants reporting 12, 14-16, and 16+ years of education, respectively.

### Discussion: Dataset 2

The results from Dataset 2 indicate that Web-CDI could be a promising platform to collect vocabulary development data in non-white populations and communities with lower levels of education attainment when paired with online recruitment methods that yield legitimate, representative participant samples. At the same time, however, these data convey clear limitations of our approach. Perhaps most conspicuously, more than half of completed administrations in this sample had to be excluded, in many cases because the information provided by participants appeared rushed or incomplete: over 40% of administrations were completed in a shorter amount of time than that allowed by our cutoff criteria (Tables A4 and A5), and of these quick completions, well over 90% were missing demographic information that is rarely missing in other administrations of the form. Determining the precise reasons for the high exclusion rate, and how (if at all) this (self-)selection  may bias data reflecting demographic trends in vocabulary development, requires a more thorough assessment of who is submitting hastily-completed forms. Such an assessment is beyond the scope of the current study. However, all respondents who got to the end of the form were compensated regardless of how thoroughly they completed it, creating the possibility that some participants who clicked the anonymous link may not have been members of the population of interest, but rather were other individuals motivated by compensation. To the extent that participants moved through the form quickly because they found the length burdensome, a transition to short forms, including computer adaptive ones [e.g., @Chai2020; @makransky2016; @Mayor2019; @Kachergis], would potentially increase data quality and completion rates substantially.

Additionally, the exclusion rates described previously provide information only on those participants who did, at some point, submit a completed form, but many individuals clicked the advertisement link and did not subsequently continue on to complete the form. Without an in-depth exploration of who is clicking the link and why they might choose not to continue, we cannot draw conclusions about the representativeness of the sample in Dataset 2 with regards to the communities we would like to include in our research. As such, a more thorough understanding of how users from different communities respond to various recruitment and sampling methods is needed in future work in order to draw conclusions about demographic trends above and beyond those already established in the literature.

Participants in Dataset 2 were recruited through a targeted post on social media, a technique that is considerably more anonymous than recruitment strategies which entail face-to-face or extended contact between researchers and community members. Online recruitment methods may not be suitable for all communities, especially when researchers ask participants to report potentially sensitive information about the health, developmental progress, ethnicity and geographic location of their children (even when such information is stored anonymously). Our goal here was to assess whether general trends in past literature could be recovered using such an online strategy, but future research should take into account that other more personal methods of recruitment, such as direct community outreach or liaison contacts, may improve participants’ experiences and their willingness to engage with the study.

An additional limitation of Dataset 2 is that it only examines vocabulary development in monolingual children. While understanding that the performance of standard measurement tools like the CDI among multilinguals is of immense import to the field of vocabulary development research [Gonzalez et al., in prep; @floccia2018; @DeHouwer2019], we focused in Dataset 2 only on vocabulary development in monolingual children because collecting data from multilingual populations introduces additional methodological considerations (e.g., how to measure exposures in each language) that are not the focus of our work here. However, it will be imperative in future to collect large-scale datasets of vocabulary data in bilingual children, both to better calibrate standard tools such as the CDI, as well as to reduce the bias towards monolingual families in the existing literature on measuring vocabulary development.

Finally, a significant limitation of the data collection process in Dataset 2 is that many people in the population of interest - particularly lower-income families - do not have reliable internet access. Having participants complete the Web-CDI on a mobile device may alleviate some of the issues caused by differential access to Wi-Fi, since the vast majority of American adults own a smartphone (Pew Research Center, 2019). Accordingly, improving Web-CDI’s user experience on mobile platforms will be an important step towards ensuring that caregivers across the socioeconomic spectrum can easily complete the survey. For smartphone users on pay-as-you-go plans, who may be reluctant to use phone data to complete a study, a possible solution could be compensating participants for the amount of "internet time" they incurred completing the form.

# General Discussion and Conclusions

In this paper, we have presented Web-CDI, a comprehensive online interface for researchers to measure children’s vocabulary by administering the MacArthur-Bates Communicative Development Inventories family of parent-report instruments. Web-CDI provides a convenient researcher management interface, built-in data privacy protections, and a variety of features designed to make both longitudinal and social-media sampling easy. To date, over 3,500 valid administrations of the WG and WS forms have been collected on Web-CDI from more than a dozen researchers in the United States after applying strict exclusion criteria derived from previous norming studies [@fenson1994; @fenson2007]. Our analysis of Dataset 1 shows that demographic trends from previous work using the paper-and-pencil CDI form are replicated in data gleaned from Web-CDI, suggesting that the Web-CDI is a valid alternative to the paper form and captures similar results.

Many research laboratories, not only in the United States but around the world, collect vocabulary development data using the MacArthur-Bates CDI in its original or adapted form. With traditional paper-based forms, combining insights from various research groups can prove challenging, as each group may have slightly different ways of formatting and managing data from CDI forms. By contrast, if all of these groups’ data come to be stored in a single repository with a consistent database structure, data from disparate sources can easily be collated and analyzed in a uniform fashion. As such, a centralized repository such as Web-CDI provides a streamlined data-aggregation pipeline that facilitates cross-lab collaborations, multisite research projects, and the curation of large datasets that provide more power to characterize the vast individual differences present in children’s vocabulary development.

Beyond the goal of simply getting more data, we hope that Web-CDI can advance efforts to expand the reach of vocabulary research past convenience samples into diverse communities. A key question in the field of vocabulary development concerns the mechanisms through which sociodemographic variables, such as race, ethnicity, income, and education are linked to group differences in vocabulary outcomes. Large, population-representative samples of vocabulary development data are needed to understand these mechanisms, but research to date (including the full sample of Web-CDI administrations) has often oversampled non-Hispanic white participants and those with advanced levels of education. 

We explored the use of Web-CDI as part of a potential strategy to collect data from non-white and less highly-educated communities in two phases (Dataset 2). Several overall patterns emerged which we expected: vocabulary scores grew with age, providing a basic validity check of the Web-CDI measure; females held a slight advantage in word learning over males; and children of caregivers with a college education showed slightly higher vocabulary scores. Nonetheless, the insights from these data, while aligned with past norming studies, are necessarily constrained by several features of our method.

Limitations of our method notwithstanding, a transition to web-based data collection streamlines the process by which historically underrepresented populations can be reached in child language research. In particular, recruitment methods involving community partners, such as parenting groups, childcare centers and early education providers, are simplified substantially if leaders in these organizations can distribute a web survey to their members that is easy to fill out, as compared with paper forms, which typically present logistical hurdles for distribution and collection. Additionally, we hope that Web-CDI can serve as an accessible, free, and easy to use resource for researchers already doing extensive work with underrepresented groups.

Web-based data collection can capture useful information about vocabulary development from diverse communities, but future research will need to examine which sampling methods can yield accurate, population-representative data that can advance our understanding of the link between sociodemographic variation and variation in language outcomes.

# Acknowledgements
We thank Larry Fenson, Philip Dale, and Donna Thal for their assistance and helpful feedback preparing this manuscript.

# Ethics statement
Data collected in the United States for this project are anonymized according to guidelines set forth by the United States Department of Health and Human Services. Data collection at Stanford University was approved by the Stanford Institutional Review Board (IRB), protocol 20398.

# Data, code and materials availability statement
- Open data: All data analyzed in this work are available on the Open Science Framework at https://osf.io/nmdq4/.
- Code: All code for this work is avaiable on the Open Science Framework at https://osf.io/nmdq4/.
- Materials: All code and materials for the Web-CDI are openly available at https://github.com/langcog/web-cdi. If readers wish to view the Web-CDI interface in full from the participants' or researchers' perspectives, they are encouraged to contact `webcdi-contact@stanford.edu`.  

# Author contributions
- Conceptualization: Benjamin deMayo, Danielle Kellier, Mika Braginsky, Christina Bergmann, Caroline Rowland, Michael Frank and Virginia Marchman.
- Data Curation: Benjamin deMayo, Danielle Kellier and Virginia Marchman.
- Formal Analysis: Benjamin deMayo.
- Funding Acquisition: Caroline Rowland and Michael Frank.
- Investigation: Benjamin deMayo, Danielle Kellier and Virginia Marchman.
- Methodology: Benjamin deMayo, Danielle Kellier, Michael Frank and Virginia Marchman.
- Project Administration: Caroline Rowland, Michael Frank and Virginia Marchman.
- Software: Danielle Kellier, Mika Braginsky, Christina Bergmann and Cielke Hendriks.
- Supervision: Christina Bergmann, Caroline Rowland, Michael Frank and Virginia Marchman.
- Visualization: Benjamin deMayo.
- Writing - Original Draft Preparation: Benjamin deMayo, Michael Frank and Virginia Marchman.
- Writing - Review & Editing: Benjamin deMayo, Danielle Kellier, Mika Braginsky, Christina Bergmann, Cielke Hendriks, Caroline Rowland, Michael Frank and Virginia Marchman.

# Software used

```{r}
papaja::r_refs("r_references.bib")

r_cites <- papaja::cite_r(file = "r_references.bib")


```

`r r_cites`


```{r}
render_appendix("appendix_options_table.Rmd")
```


\newpage

# References

\begingroup
\setlength{\parindent}{-0.5in}
\setlength{\leftskip}{0.5in}

<div id="refs" custom-style="Bibliography"></div>
\endgroup
